{% extends "core/base.html" %}
{% load static i18n %}

{% block title %}{% trans "RAG –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç" %}{% endblock %}
{% block meta_description %}{% trans "–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π AI-–ø–æ–º—ñ—á–Ω–∏–∫" %}{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/components/consultant_chat.css' %}">
{% endblock %}

{% block content %}
<div class="consultant-page">
  <div class="consultant-header">
    <div class="consultant-avatar">ü§ñ</div>
    <h1 class="consultant-title">{% trans "RAG –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç" %}</h1>
    <p class="consultant-subtitle">{% trans "–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π AI-–ø–æ–º—ñ—á–Ω–∏–∫" %}</p>
    
    <div class="session-info">
      <div class="session-info-item">
        <span>{% trans "–ß–∞—Å —Å–µ—Å—ñ—ó:" %}</span>
        <span class="session-info-value" id="sessionTime">00:00</span>
      </div>
      <div class="session-info-item">
        <span>{% trans "–ü–æ—á–∞—Ç–æ–∫:" %}</span>
        <span class="session-info-value" id="welcomeTime">--:--</span>
      </div>
    </div>
    
    <button class="consultant-chat-button" onclick="openConsultantModal()">
      üí¨ {% trans "–ü–æ—á–∞—Ç–∏ —á–∞—Ç" %}
    </button>
  </div>
</div>

<!-- Modal Chat - –ü–†–û–°–¢–ò–ô –î–ò–ó–ê–ô–ù -->
<div id="consultantModal" class="consultant-modal" style="display: none;">
  <div class="modal-overlay" onclick="closeConsultantModal()"></div>
  <div class="modal-content">
    
    <!-- –ü—Ä–æ—Å—Ç–∏–π Header -->
    <div class="modal-header">
      <div class="modal-title">
        <span class="modal-avatar">ü§ñ</span>
        <span>RAG –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç</span>
      </div>
      <button class="modal-close" onclick="closeConsultantModal()">√ó</button>
    </div>

    <!-- Messages -->
    <div class="chat-messages">
      <div id="messages" class="messages"></div>
    </div>

    <!-- Input -->
    <div class="chat-input">
      <form id="chatForm" class="chat-form">
        <input type="text" id="messageInput" placeholder="–ù–∞–ø–∏—à—ñ—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è..." />
        <button type="submit" id="sendButton">‚Üí</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/consultant_chat.js' %}"></script>
{% endblock %}