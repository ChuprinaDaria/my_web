{% load i18n %}
{% get_current_language as CURRENT_LANG %}

<section class="services-carousel-section" aria-labelledby="services-title">
  
  <div class="services-carousel-header">
    <h2 id="services-title">{{ title|default:"Our Services" }}</h2>
    {% if subtitle %}
      <p class="services-subtitle">{{ subtitle }}</p>
    {% endif %}
  </div>

  <div class="services-carousel services-grid" role="region" aria-label="{{ title|default:'Services carousel' }}">
    
    <div class="services-grid-container" 
         role="group" 
         aria-live="polite"
         aria-label="{% trans 'Services grid' %}">
      
      {% for service in services|slice:":5" %}
        <div class="service-grid-item" role="group" aria-label="{% trans 'Service' %} {{ forloop.counter }}">
          {% include 'includes/service_card_vertical.html' with service=service %}
        </div>
      {% empty %}
        <div class="carousel-empty">
          <div class="empty-content">
            <i data-lucide="settings" aria-hidden="true"></i>
            <h3>{% trans "No services available" %}</h3>
            <p>{% trans "Check back later for new services" %}</p>
          </div>
        </div>
      {% endfor %}
    </div>

    <div class="services-carousel-nav desktop-only" aria-label="{% trans 'Навігація каруселі' %}">
      <button class="carousel-btn prev" type="button" aria-label="{% trans 'Попередні сервіси' %}">‹</button>
      <button class="carousel-btn next" type="button" aria-label="{% trans 'Наступні сервіси' %}">›</button>
    </div>


  </div>

  <div class="services-footer">
    <a href="{% url 'contacts:contact_page' %}" 
       class="btn-primary">
      <i data-lucide="rocket" aria-hidden="true"></i>
      <span>{% trans "Get Started" %}</span>
    </a>
    
    {% if show_view_all %}
    <a href="{% url 'services:services_list' %}" 
       class="btn-secondary">
      <i data-lucide="grid-3x3" aria-hidden="true"></i>
      <span>{% trans "View All Services" %}</span>
    </a>
    {% endif %}
  </div>
</section>