{% load static i18n %}

<div class="projects-carousel-container">
  <div class="projects-carousel-header">
    <h2 class=>{{ title }}</h2>
    
    {% if show_navigation and projects|length > 1 %}
      <div class="carousel-navigation">
        <button class="carousel-nav-btn prev" data-carousel="{{ carousel_id }}" data-direction="prev">
          <i data-lucide="chevron-left"></i>
        </button>
        <button class="carousel-nav-btn next" data-carousel="{{ carousel_id }}" data-direction="next">
          <i data-lucide="chevron-right"></i>
        </button>
      </div>
    {% endif %}
  </div>

  <div class="projects-carousel-wrapper" id="{{ carousel_id }}">
    <div class="projects-carousel-track">
      {% for project in projects %}
        <div class="carousel-project-item">
          {% include 'includes/project_card.html' with project=project %}
        </div>
      {% empty %}
        <div class="carousel-project-item">
          <div class="empty-carousel-state">
            <div class="empty-icon">üìã</div>
            <p>{% trans "–ü—Ä–æ—î–∫—Ç—ñ–≤ –ø–æ–∫–∏ –Ω–µ–º–∞—î" %}</p>
            <small>{% trans "–°–∫–æ—Ä–æ –∑'—è–≤–ª—è—Ç—å—Å—è –Ω–æ–≤—ñ —Ü—ñ–∫–∞–≤—ñ –ø—Ä–æ—î–∫—Ç–∏!" %}</small>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
  
  <!-- –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ –¥–ª—è –º–æ–±—ñ–ª—å–Ω–æ–≥–æ -->
  {% if projects|length > 1 %}
    <div class="carousel-indicators mobile-only">
      {% for project in projects %}
        <button class="indicator" data-carousel="{{ carousel_id }}" data-slide="{{ forloop.counter0 }}"
                {% if forloop.first %}class="indicator active"{% endif %}></button>
      {% endfor %}
    </div>
  {% endif %}
</div>