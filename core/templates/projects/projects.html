{% extends "core/base.html" %}
{% load static i18n project_carousel_tags %}
{% get_current_language as CURRENT_LANG %}

{% block title %}{{ seo_title|default:"Projects - LazySoft" }}{% endblock %}
{% block meta_description %}{{ seo_description|default:"Poznaj nasze portfolio projekt√≥w automatyzacji i AI" }}{% endblock %}

{% block extra_meta %}
  <!-- Canonical + hreflang -->
  <link rel="canonical" href="https://lazysoft.dev/{{ CURRENT_LANG }}/projects/" />
  <link rel="alternate" href="https://lazysoft.dev/en/projects/" hreflang="en">
  <link rel="alternate" href="https://lazysoft.dev/uk/projects/" hreflang="uk">
  <link rel="alternate" href="https://lazysoft.dev/pl/projects/" hreflang="pl">
  
  <!-- OG Tags -->
  <meta property="og:title" content="{{ seo_title|default:'Projects - LazySoft' }}">
  <meta property="og:description" content="{{ seo_description }}">
  <meta property="og:image" content="{{ og_image|default:'https://lazysoft.dev/static/images/projects-og.jpg' }}">
  <meta property="og:url" content="https://lazysoft.dev/{{ CURRENT_LANG }}/projects/">
  <meta property="og:type" content="website">
  
  <!-- Social Media -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ seo_title }}">
  <meta name="twitter:description" content="{{ seo_description }}">
  <meta name="twitter:image" content="{{ og_image|default:'https://lazysoft.dev/static/images/projects-og.jpg' }}">
{% endblock %}

{% block content %}
<main class="projects-page">

  <!-- Hero Section -->
  <section class="projects-hero">
    <div class="container">
      
      
      <!-- Hero Content -->
      <div class="hero-content">
        <h1 class="hero-title">
          <span data-lang="en">{{ overview_title_en|default:"Our Projects Portfolio" }}</span>
          <span data-lang="uk">{{ overview_title_uk|default:"–ù–∞—à—ñ –ø—Ä–æ—î–∫—Ç–∏" }}</span>
          <span data-lang="pl">{{ overview_title_pl|default:"Nasze projekty" }}</span>
        </h1>
        
        <div class="hero-description">
          <span data-lang="en">{{ overview_description_en|default:"Discover our completed automation and AI projects" }}</span>
          <span data-lang="uk">{{ overview_description_uk|default:"–ü–æ–∑–Ω–∞–π–æ–º—Ç–µ—Å—è –∑ –Ω–∞—à–∏–º–∏ –ø—Ä–æ—î–∫—Ç–∞–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó —Ç–∞ AI" }}</span>
          <span data-lang="pl">{{ overview_description_pl|default:"Poznaj nasze portfolio projekt√≥w automatyzacji i AI" }}</span>
        </div>
        
        <!-- ‚úÖ –ó–ê–õ–ò–®–ê–Ñ–ú–û - Statistics -->
        <div class="projects-stats">
          <div class="stat-item">
            <span class="stat-number">3+</span>
            <span class="stat-label">
              <span data-lang="en">Solutions</span>
              <span data-lang="uk">–†—ñ—à–µ–Ω–Ω—è</span>
              <span data-lang="pl">RozwiƒÖzania</span>
            </span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ total_projects|default:"4" }}+</span>
            <span class="stat-label">
              <span data-lang="en">Projects</span>
              <span data-lang="uk">–ü—Ä–æ—î–∫—Ç–∏</span>
              <span data-lang="pl">Projekty</span>
            </span>
          </div>
          <div class="stat-item">
            <span class="stat-number">100%</span>
            <span class="stat-label">
              <span data-lang="en">Success Rate</span>
              <span data-lang="uk">–£—Å–ø—ñ—à–Ω—ñ—Å—Ç—å</span>
              <span data-lang="pl">Wska≈∫nik sukcesu</span>
            </span>
          </div>
        </div>

        <!-- ‚úÖ –ó–ê–õ–ò–®–ê–Ñ–ú–û - Popular Technologies (–ë–ï–ó —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó) -->
        <div class="popular-technologies">
          <h3>
            <span data-lang="en">Popular Technologies</span>
            <span data-lang="uk">–ü–æ–ø—É–ª—è—Ä–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó</span>
            <span data-lang="pl">Popularne technologie</span>
          </h3>
          <div class="tech-tags">
            <span class="tech-tag ai">
              üé® <span data-lang="en">AI Automation</span>
              <span data-lang="uk">AI –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è</span>
              <span data-lang="pl">AI Automatyzacja</span>
              <small>2 projects</small>
            </span>
            <span class="tech-tag web">
              ‚öôÔ∏è Web <small>1 project</small>
            </span>
            <span class="tech-tag chatbot">
              ü§ñ <span data-lang="en">Chat Bot</span>
              <span data-lang="uk">–ß–∞—Ç –ë–æ—Ç</span>
              <span data-lang="pl">Chat Bot</span>
              <small>1 project</small>
            </span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ‚úÖ SIMPLE FEATURED PROJECTS (NO CAROUSEL) -->
  {% include "includes/simple_projects_list.html" %}

  <!-- All Projects Grid -->
  <section class="all-projects-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">
          <span data-lang="en">All Projects</span>
          <span data-lang="uk">–£—Å—ñ –ø—Ä–æ—î–∫—Ç–∏</span>
          <span data-lang="pl">Wszystkie projekty</span>
        </h2>
      </div>

      <!-- Projects Grid -->
      <div class="projects-grid">
        {% for project in all_projects %}
          <article class="project-card" onclick="location.href='/{{ CURRENT_LANG }}/projects/{{ project.slug }}/'">
            
            <!-- Project Image -->
            {% if project.featured_image %}
              <div class="project-image">
                <img src="{{ project.featured_image.url }}" 
                     alt="{% if CURRENT_LANG == 'uk' and project.title_uk %}{{ project.title_uk }}{% elif CURRENT_LANG == 'pl' and project.title_pl %}{{ project.title_pl }}{% else %}{{ project.title_en }}{% endif %}" 
                     loading="lazy">
                <div class="image-overlay"></div>
              </div>
            {% endif %}

            <!-- Project Tags -->
            <div class="project-tags">
              {% if project.is_ai_powered %}
                <span class="project-tag ai-powered">ü§ñ AI</span>
              {% endif %}
              {% if project.is_top_project %}
                <span class="project-tag top-project">üëë</span>
              {% endif %}
              {% if project.is_innovative %}
                <span class="project-tag innovative">üí°</span>
              {% endif %}
              {% if project.is_enterprise %}
                <span class="project-tag enterprise">üè¢</span>
              {% endif %}
            </div>

            <!-- Project Content -->
            <div class="project-content">
              <h3 class="project-title">
                {% if CURRENT_LANG == 'uk' and project.title_uk %}{{ project.title_uk }}
                {% elif CURRENT_LANG == 'pl' and project.title_pl %}{{ project.title_pl }}
                {% else %}{{ project.title_en }}{% endif %}
              </h3>
              
              <p class="project-description">
                {% if CURRENT_LANG == 'uk' and project.short_description_uk %}{{ project.short_description_uk|striptags|truncatewords:20 }}
                {% elif CURRENT_LANG == 'pl' and project.short_description_pl %}{{ project.short_description_pl|striptags|truncatewords:20 }}
                {% else %}{{ project.short_description_en|striptags|truncatewords:20 }}{% endif %}
              </p>
              
              <!-- Project Metrics -->
              <div class="project-metrics">
                {% if project.development_duration_weeks %}
                  <span class="metric-item">
                    üìÖ {{ project.development_duration_weeks }} 
                    <span data-lang="en">weeks</span>
                    <span data-lang="uk">—Ç–∏–∂–Ω—ñ–≤</span>
                    <span data-lang="pl">tygodni</span>
                  </span>
                {% endif %}
                {% if project.budget_range %}
                  <span class="metric-item">üí∞ {{ project.get_budget_range_display }}</span>
                {% endif %}
              </div>
              
              <!-- Project Actions -->
              <div class="project-actions">
                <button class="btn-primary" onclick="event.stopPropagation(); window.location.href='/{{ CURRENT_LANG }}/projects/{{ project.slug }}/';">
                  <span data-lang="en">View Case</span>
                  <span data-lang="uk">–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∫–µ–π—Å</span>
                  <span data-lang="pl">Zobacz case</span>
                </button>
                
                {% if project.project_url %}
                  <button class="btn-secondary" onclick="event.stopPropagation(); window.open('{{ project.project_url }}', '_blank');">
                    <span data-lang="en">Demo</span>
                    <span data-lang="uk">–î–µ–º–æ</span>
                    <span data-lang="pl">Demo</span>
                  </button>
                {% endif %}
              </div>
            </div>

            <div class="project-glow-effect"></div>
          </article>
        {% empty %}
          <div class="empty-state">
            <i data-lucide="folder-x"></i>
            <p>
              <span data-lang="en">No projects available</span>
              <span data-lang="uk">–ü—Ä–æ—î–∫—Ç–∏ –ø–æ–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ</span>
              <span data-lang="pl">Brak dostƒôpnych projekt√≥w</span>
            </p>
          </div>
        {% endfor %}
      </div>
    </div>
  </section>

  <!-- üÜï CROSS-PROMO SERVICES -->
  <section class="related-services-cross-promo">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">
          <span data-lang="en">Our Services</span>
          <span data-lang="uk">–ù–∞—à—ñ –ø–æ—Å–ª—É–≥–∏</span>
          <span data-lang="pl">Wszystkie nasze us≈Çugi</span>
        </h2>
        <p class="section-subtitle">
          <span data-lang="en">Explore services related to our projects</span>
          <span data-lang="uk">–î–æ—Å–ª—ñ–¥–∂—É–π—Ç–µ –ø–æ—Å–ª—É–≥–∏ –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –Ω–∞—à–∏–º–∏ –ø—Ä–æ—î–∫—Ç–∞–º–∏</span>
          <span data-lang="pl">Poznaj us≈Çugi powiƒÖzane z naszymi projektami</span>
        </p>
      </div>

      <!-- Services Cross-Promo Grid -->
      <div class="services-promo-grid">
        {% for service in related_services|slice:":6" %}
          <article class="service-promo-card" onclick="location.href='/{{ CURRENT_LANG }}/services/{{ service.slug }}/'">
            <div class="service-icon">
              {% if service.icon %}
                <img src="{{ service.icon.url }}" alt="{{ service.title }}" loading="lazy">
              {% else %}
                üè¢
              {% endif %}
            </div>
            
            <div class="service-content">
              <h3 class="service-title">
                {% if CURRENT_LANG == 'uk' and service.title_uk %}{{ service.title_uk }}
                {% elif CURRENT_LANG == 'pl' and service.title_pl %}{{ service.title_pl }}
                {% else %}{{ service.title_en }}{% endif %}
              </h3>
              
              <p class="service-description">
                {% if CURRENT_LANG == 'uk' and service.short_description_uk %}{{ service.short_description_uk|striptags|truncatewords:10 }}
                {% elif CURRENT_LANG == 'pl' and service.short_description_pl %}{{ service.short_description_pl|striptags|truncatewords:10 }}
                {% else %}{{ service.short_description_en|striptags|truncatewords:10 }}{% endif %}
              </p>
              
              <div class="service-metrics">
                <span class="projects-count">
                  {{ service.projects_count|default:0 }} 
                  <span data-lang="en">projects</span>
                  <span data-lang="uk">–ø—Ä–æ—î–∫—Ç—ñ–≤</span>
                  <span data-lang="pl">projekt√≥w</span>
                </span>
              </div>
            </div>
            
            <div class="service-arrow">
              <i data-lucide="arrow-right"></i>
            </div>
          </article>
        {% endfor %}
      </div>
      
      <!-- View All Services -->
      <div class="section-footer">
        <a href="/{{ CURRENT_LANG }}/services/" class="view-all-services">
          <span data-lang="en">View All Services</span>
          <span data-lang="uk">–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ –ø–æ—Å–ª—É–≥–∏</span>
          <span data-lang="pl">Zobacz wszystkie us≈Çugi</span>
          <i data-lucide="arrow-right"></i>
        </a>
      </div>
    </div>
  </section>

</main>

<!-- Contact Section -->
<section id="contact" class="contact">
  {% include "core/contact_form.html" %}
</section>

{% endblock %}


{% block extra_scripts %}
<script src="{% static 'js/simple_projects_accordion.js' %}"></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "{{ seo_title|escapejs }}",
  "description": "{{ seo_description|escapejs }}",
  "url": "https://lazysoft.dev/{{ CURRENT_LANG }}/projects/",
  "inLanguage": "{{ CURRENT_LANG }}",
  "mainEntity": {
    "@type": "ItemList",
    "numberOfItems": {{ total_projects }},
    "itemListElement": [
      {% for project in all_projects %}
      {
        "@type": "ListItem",
        "position": {{ forloop.counter }},
        "url": "https://lazysoft.dev/{{ CURRENT_LANG }}/projects/{{ project.slug }}/",
        "name": "{{ project.title|escapejs }}"
      }{% if not forloop.last %},{% endif %}
      {% endfor %}
    ]
  }
}
</script>

{% endblock %}