{% extends "core/base.html" %}
{% load static i18n %}
{% get_current_language as CURRENT_LANG %}

{% block title %}{{ seo_title|default:"{% trans 'Projects - LazySoft' %}" }}{% endblock %}
{% block meta_description %}{{ seo_description|default:"{% trans 'Discover our portfolio of automation and AI projects' %}" }}{% endblock %}

{% block extra_meta %}
  <!-- Canonical + hreflang -->
  <link rel="canonical" href="https://lazysoft.dev/{{ CURRENT_LANG }}/projects/" />
  <link rel="alternate" href="https://lazysoft.dev/en/projects/" hreflang="en">
  <link rel="alternate" href="https://lazysoft.dev/uk/projects/" hreflang="uk">
  <link rel="alternate" href="https://lazysoft.dev/pl/projects/" hreflang="pl">
  
  <!-- OG Tags -->
  <meta property="og:title" content="{{ seo_title|default:'{% trans "Projects - LazySoft" %}' }}">
  <meta property="og:description" content="{{ seo_description|default:'{% trans "Discover our portfolio of automation and AI projects" %}' }}">
  <meta property="og:image" content="{{ og_image|default:'https://lazysoft.dev/static/images/projects-og.jpg' }}">
  <meta property="og:url" content="https://lazysoft.dev/{{ CURRENT_LANG }}/projects/">
  <meta property="og:type" content="website">
  
  <!-- Social Media -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ seo_title|default:'{% trans "Projects - LazySoft" %}' }}">
  <meta name="twitter:description" content="{{ seo_description|default:'{% trans "Discover our portfolio of automation and AI projects" %}' }}">
  <meta name="twitter:image" content="{{ og_image|default:'https://lazysoft.dev/static/images/projects-og.jpg' }}">
{% endblock %}

{% block content %}
<main class="projects-page">

  <!-- Hero Section -->
  {% include 'projects/projects_hero.html' %}

  <!-- Featured Projects with Sidebar -->
  <section class="featured-projects-section">
    <div class="container">
      <div class="projects-layout">
        
        <!-- Featured Projects -->
        <div class="projects-main">
          {% include "includes/simple_projects_list.html" %}
        </div>
        
        <!-- Projects Sidebar -->
        <aside class="projects-sidebar">
          {% include 'projects/projects_sidebar.html' %}
        </aside>
        
      </div>
    </div>
  </section>

  <!-- All Projects section removed - only showing 6 random projects in Featured section -->

  <!-- Services Cross-Promo -->
  {% include 'projects/services_cross_promo.html' %}

  <!-- Projects News Section -->
  {% include "includes/projects_news_section.html" %}

  <!-- News Section -->
  
      {% include "includes/daily_digest.html" %}
    

<!-- Social Sharing -->
{% include 'includes/social_share.html' %}


</main>

{% endblock %}


{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/sidebar_desktop.css' %}?v=1.3">
<link rel="stylesheet" href="{% static 'css/sidebar_mobile.css' %}?v=1.3">
<link rel="stylesheet" href="{% static 'css/sections/projects_news_section_desktop.css' %}?v=1.0">
<link rel="stylesheet" href="{% static 'css/sections/projects_news_section_mobile.css' %}?v=1.0">
<link rel="stylesheet" href="{% static 'css/components/news_digest.css' %}?v=1.2">
{% endblock %}

{% block extra_scripts %}
<script src="{% static 'js/simple_projects_accordion.js' %}"></script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "{{ seo_title|escapejs }}",
  "description": "{{ seo_description|escapejs }}",
  "url": "https://lazysoft.dev/{{ CURRENT_LANG }}/projects/",
  "inLanguage": "{{ CURRENT_LANG }}",
  "mainEntity": {
    "@type": "ItemList",
    "numberOfItems": {{ total_projects }},
    "itemListElement": [
      {% for project in all_projects %}
      {
        "@type": "ListItem",
        "position": {{ forloop.counter }},
        "url": "https://lazysoft.dev/{{ CURRENT_LANG }}/projects/{{ project.slug }}/",
        "name": "{{ project.title|escapejs }}"
      }{% if not forloop.last %},{% endif %}
      {% endfor %}
    ]
  }
}
</script>

{% endblock %}