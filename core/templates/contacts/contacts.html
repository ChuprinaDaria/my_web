{% extends "core/base.html" %}
{% load static i18n %}

{% block title %}{{ contact_info.seo_title|default:_("–ö–æ–Ω—Ç–∞–∫—Ç–∏ - Lazysoft") }}{% endblock %}
{% block meta_description %}{{ contact_info.seo_description|default:_("–ó–≤'—è–∂—ñ—Ç—å—Å—è –∑ –Ω–∞–º–∏ –¥–ª—è –æ–±–≥–æ–≤–æ—Ä–µ–Ω–Ω—è –≤–∞—à–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É. –ü—Ä–∞—Ü—é—î–º–æ –ø–æ –≤—Å—å–æ–º—É —Å–≤—ñ—Ç—É.") }}{% endblock %}
{% block og_title %}{{ contact_info.seo_title|default:_("–ö–æ–Ω—Ç–∞–∫—Ç–∏ - Lazysoft") }}{% endblock %}
{% block og_description %}{{ contact_info.seo_description|default:_("–ó–≤'—è–∂—ñ—Ç—å—Å—è –∑ –Ω–∞–º–∏ –¥–ª—è –æ–±–≥–æ–≤–æ—Ä–µ–Ω–Ω—è –≤–∞—à–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É. –ü—Ä–∞—Ü—é—î–º–æ –ø–æ –≤—Å—å–æ–º—É —Å–≤—ñ—Ç—É.") }}{% endblock %}
{% block og_image %}{% if contact_info.office_photo %}https://lazysoft.dev{{ contact_info.office_photo.url }}{% else %}{% static 'images/contacts-og.jpg' %}{% endif %}{% endblock %}

{% block extra_meta %}
  <link rel="canonical" href="https://lazysoft.dev{% url 'contacts:contact_page' %}" />
  
  <!-- Schema.org –¥–ª—è –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤ -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Lazysoft",
    "url": "https://lazysoft.dev",
    "logo": "https://lazysoft.dev{% static 'images/logo.png' %}",
    "contactPoint": {
      "@type": "ContactPoint",
      "telephone": "{{ contact_info.phone }}",
      "contactType": "customer service",
      "email": "{{ contact_info.email }}",
      "availableLanguage": ["en", "uk", "pl"]
    },
    {% if contact_info.address_line_1 %}
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "{{ contact_info.get_address_line_1 }}, {{ contact_info.address_line_2 }}",
      "addressLocality": "{{ contact_info.city }}",
      "postalCode": "{{ contact_info.postal_code }}",
      "addressCountry": "{{ contact_info.get_country_code }}"
    },
    {% endif %}
    "sameAs": [
      "https://github.com/ChuprinaDaria",
      "https://www.linkedin.com/in/dchuprina/",
      "https://www.instagram.com/lazysoft_/"
    ]
  }
  </script>
{% endblock %}

{% block content %}
<main class="contacts-page">

   

  <!-- Hero —Å–µ–∫—Ü—ñ—è -->
  <section class="contacts-hero">
    <div class="container">
      
     

      <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–∞ –æ–ø–∏—Å -->
      <div class="hero-content">
        <h1 class="hero-title">
          {{ contact_info.get_title|default:_("–ö–æ–Ω—Ç–∞–∫—Ç–∏") }}
        </h1>
        
        {% if contact_info.get_description %}
        <div class="hero-description">
          {{ contact_info.get_description|safe }}
        </div>
        {% endif %}
        
        <!-- –®–≤–∏–¥–∫—ñ –∫–æ–Ω—Ç–∞–∫—Ç–∏ -->
        <div class="quick-contacts">
          <a href="mailto:{{ contact_info.email }}" class="quick-contact-item">
            <i data-lucide="mail" class="contact-icon"></i>
            <span>{{ contact_info.email }}</span>
          </a>
          <a href="tel:{{ contact_info.phone }}" class="quick-contact-item">
            <i data-lucide="phone" class="contact-icon"></i>
            <span>{{ contact_info.phone }}</span>
          </a>
          {% if contact_info.google_maps_url %}
          <a href="{{ contact_info.google_maps_url }}" target="_blank" class="quick-contact-item">
            <i data-lucide="map-pin" class="contact-icon"></i>
            <span>{% trans "–ü–æ–¥–∏–≤–∏—Ç–∏—Å—å –Ω–∞ –∫–∞—Ä—Ç—ñ" %}</span>
          </a>
          {% endif %}
        </div>
      </div>
    </div>
  </section>


<!-- –î–æ–¥–∞–π —Ü–µ –ü–Ü–°–õ–Ø </section> Hero —Å–µ–∫—Ü—ñ—ó –≤ contacts.html -->

<!-- üì∏ Hero Photo Section - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —ñ—Å–Ω—É—é—á—ñ CSS –∫–ª–∞—Å–∏ -->
{% if contact_info.hero_photo %}
<section class="contacts-hero-photo">
  <div class="container">
    <!-- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ card —Å—Ç–∏–ª—ñ –¥–ª—è –æ–±–≥–æ—Ä—Ç–∫–∏ -->
    <div class="card card-lg card-horizontal card-hover-lift card-shimmer">
      <!-- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ card-image –∫–ª–∞—Å -->
      <div class="card-image hero-photo-container">
        <img src="{{ contact_info.hero_photo.url }}" 
             alt="{% trans 'Lazysoft –æ—Ñ—ñ—Å' %}" 
             class="hero-photo-img" 
             loading="lazy">
      </div>
      
      <!-- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ card-content –¥–ª—è —Ç–µ–∫—Å—Ç—É -->
      <div class="card-content hero-photo-content">
        <h3 class="card-title">
          {{ contact_info.get_hero_title }}
        </h3>
        
        <p class="card-description">
          {{ contact_info.get_hero_description }}
        </p>
        
        <!-- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ card-actions –¥–ª—è –∫–Ω–æ–ø–æ–∫ -->
        <div class="card-actions">
          {% if contact_info.google_maps_url %}
          <a href="{{ contact_info.google_maps_url }}" target="_blank" class="btn-secondary">
            <i data-lucide="map-pin"></i>
            <span>{% trans "–ó–Ω–∞–π—Ç–∏ –Ω–∞—Å" %}</span>
          </a>
          {% endif %}
          
          <a href="#contact-form" class="btn-primary">
            <i data-lucide="message-circle"></i>
            <span>{% trans "–ó–≤'—è–∑–∞—Ç–∏—Å—è" %}</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
{% endif %}



  <!-- –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <section class="contacts-main">
    <div class="container">
      <div class="contacts-grid">
        
        <!-- –õ—ñ–≤–∞ —á–∞—Å—Ç–∏–Ω–∞ - –§–æ—Ä–º–∞ -->
        <div class="contact-form-section">
          <div class="form-container">
            <h3 class="form-title">
              {% trans "–ù–∞–ø–∏—à—ñ—Ç—å –Ω–∞–º" %}
            </h3>
            
            <form id="contactForm" class="contact-form" method="post">
              {% csrf_token %}
              
              <div class="form-row">
                <div class="form-group">
                  <label for="name">
                    {% trans "–Ü–º'—è" %} *
                  </label>
                  <input type="text" id="name" name="name" required>
                </div>
                
                <div class="form-group">
                  <label for="email">Email *</label>
                  <input type="email" id="email" name="email" required>
                </div>
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label for="phone">
                    {% trans "–¢–µ–ª–µ—Ñ–æ–Ω" %}
                  </label>
                  <input type="tel" id="phone" name="phone">
                </div>
                
                <div class="form-group">
                  <label for="company">
                    {% trans "–ö–æ–º–ø–∞–Ω—ñ—è" %}
                  </label>
                  <input type="text" id="company" name="company">
                </div>
              </div>
              
              <div class="form-group">
                <label for="subject">
                  {% trans "–¢–µ–º–∞" %} *
                </label>
                <input type="text" id="subject" name="subject" required>
              </div>
              
              <div class="form-group">
                <label for="message">
                  {% trans "–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è" %} *
                </label>
                <textarea id="message" name="message" rows="6" required 
                          placeholder="{% trans '–†–æ–∑–∫–∞–∂—ñ—Ç—å –ø—Ä–æ –≤–∞—à –ø—Ä–æ—î–∫—Ç –∞–±–æ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è...' %}"></textarea>
              </div>
              
              <input type="hidden" name="referred_from" value="contact_page">
              
              <button type="submit" class="submit-btn btn-primary">
                <span class="btn-text">
                  {% trans "–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è" %}
                </span>
                <span class="btn-loading" style="display: none;">
                  {% trans "–ù–∞–¥—Å–∏–ª–∞—î–º–æ..." %}
                </span>
              </button>
            </form>
            
            <!-- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —Å—Ç–∞—Ç—É—Å -->
            <div id="formMessage" class="form-message" style="display: none;"></div>
          </div>
        </div>
        
        <!-- –ü—Ä–∞–≤–∞ —á–∞—Å—Ç–∏–Ω–∞ - –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è -->
        <div class="contact-info-section">
          
          <!-- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è -->
          <div class="info-block">
            <h4 class="info-title">
              {% trans "–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è" %}
            </h4>
            
            <div class="contact-details">
              <div class="contact-item">
                <span class="contact-icon">
  <i data-lucide="phone"></i>
</span>
                <div class="contact-content">
                  <strong>Email</strong>
                  <a href="mailto:{{ contact_info.email }}">{{ contact_info.email }}</a>
                </div>
              </div>
              
              <div class="contact-item">
                <span class="contact-icon">
  <i data-lucide="phone"></i>
</span>

                <div class="contact-content">
                  <strong>{% trans "–¢–µ–ª–µ—Ñ–æ–Ω" %}</strong>
                  <a href="tel:{{ contact_info.phone }}">{{ contact_info.phone }}</a>
                </div>
              </div>
              
              <div class="contact-item">
                <span class="contact-icon">
  <i data-lucide="globe"></i>
</span>
                <div class="contact-content">
                  <strong>{% trans "–î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å" %}</strong>
                  <span>{% trans "–î–æ—Å—Ç—É–ø–Ω–æ –ø–æ –≤—Å—å–æ–º—É —Å–≤—ñ—Ç—É" %}</span>
                </div>
              </div>
            </div>
          </div>
          
          <!-- –ê–¥—Ä–µ—Å–∞ –æ—Ñ—ñ—Å—É -->
          {% if contact_info.get_address_line_1 %}
          <div class="info-block">
            <h4 class="info-title">
              {% trans "–ê–¥—Ä–µ—Å–∞ –æ—Ñ—ñ—Å—É" %}
            </h4>
            
            <div class="address-block">
              {% if contact_info.office_photo %}
              <div class="office-photo">
                <img src="{{ contact_info.office_photo.url }}" 
                     alt="{% trans '–û—Ñ—ñ—Å' %}" loading="lazy">
              </div>
              {% endif %}
              
              <div class="address-details">
                <p class="address-line">{{ contact_info.get_address_line_1 }}</p>
                {% if contact_info.address_line_2 %}
                <p class="address-line">{{ contact_info.address_line_2 }}</p>
                {% endif %}
                {% if contact_info.address_line_3 %}
                <p class="address-line">{{ contact_info.address_line_3 }}</p>
                {% endif %}
                <p class="address-line">{{ contact_info.city }}{% if contact_info.postal_code %}, {{ contact_info.postal_code }}{% endif %}</p>
                <p class="address-line">{{ contact_info.get_country }}</p>
                
                {% if contact_info.google_maps_url %}
                <a href="{{ contact_info.google_maps_url }}" target="_blank" class="map-link">
                  <i data-lucide="map-pin"></i>
                  <span>{% trans "–ü–æ–¥–∏–≤–∏—Ç–∏—Å—å –Ω–∞ Google Maps" %}</span>
                </a>
                {% endif %}
              </div>
            </div>
          </div>
          {% endif %}
          
          <!-- –°–æ—Ü—ñ–∞–ª—å–Ω—ñ –º–µ—Ä–µ–∂—ñ -->
          <div class="info-block">
            <h4 class="info-title">
              {% trans "–°–ª—ñ–¥–∫—É–π—Ç–µ –∑–∞ –Ω–∞–º–∏" %}
            </h4>
            
            <div class="social-links">
              <a href="https://github.com/ChuprinaDaria" target="_blank" 
                 class="social-link" rel="noopener">
                <i data-lucide="github" class="social-icon"></i>
                <span>GitHub</span>
              </a>
              <a href="https://www.linkedin.com/in/dchuprina/" target="_blank" 
                 class="social-link" rel="noopener">
                <i data-lucide="linkedin" class="social-icon"></i>
                <span>LinkedIn</span>
              </a>
              <a href="https://www.instagram.com/lazysoft_/" target="_blank" 
                 class="social-link" rel="noopener">
                <i data-lucide="instagram" class="social-icon"></i>
                <span>Instagram</span>
              </a>
              <a href="https://t.me/Lazysoft_news" target="_blank" 
                 class="social-link" rel="noopener">
                <i data-lucide="send" class="social-icon"></i>
                <span>Telegram</span>
              </a>
            </div>
          </div>
          
        </div>
      </div>
    </div>
  </section>

  <!-- –ü–µ—Ä–µ–ª—ñ–Ω–∫–æ–≤–∫–∞ –∑ —ñ–Ω—à–∏–º–∏ —Å—Ç–æ—Ä—ñ–Ω–∫–∞–º–∏ -->
  {% include 'includes/related_work_section.html' %}

</main>
{% endblock %}

{% block extra_scripts %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ContactPage",
  "name": "{{ contact_info.get_title|default:_('–ö–æ–Ω—Ç–∞–∫—Ç–∏')|escapejs }}",
  "description": "{{ contact_info.get_description|striptags|default:_('–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞')|escapejs }}",
  "url": "https://lazysoft.dev{% url 'contacts:contact_page' %}",
  "inLanguage": "{{ LANGUAGE_CODE }}",
  "breadcrumb": {
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "{% trans '–ì–æ–ª–æ–≤–Ω–∞'|escapejs %}",
        "item": "https://lazysoft.dev{% url 'home' %}"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "{% trans '–ö–æ–Ω—Ç–∞–∫—Ç–∏'|escapejs %}",
        "item": "https://lazysoft.dev{% url 'contacts:contact_page' %}"
      }
    ]
  }
}
</script>

<script>
// üåê Django i18n –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è JS
const DJANGO_CONTEXT = {
  csrfToken: '{{ csrf_token }}',
  submitUrl: '{% url "contacts:submit_form" %}',
  currentLang: '{{ LANGUAGE_CODE }}',
  
  // üìù –ü–µ—Ä–µ–∫–ª–∞–¥–∏ –¥–ª—è JS
  messages: {
    sending: '{% trans "–ù–∞–¥—Å–∏–ª–∞—î–º–æ..." %}',
    success: '{% trans "–î—è–∫—É—î–º–æ! –í–∞—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ. –ú–∏ –∑–≤\'—è–∂–µ–º–æ—Å—è –∑ –≤–∞–º–∏ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º." %}',
    error: '{% trans "–í–∏–Ω–∏–∫–ª–∞ –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤—ñ–¥–ø—Ä–∞–≤—Ü—ñ" %}',
    networkError: '{% trans "–í–∏–Ω–∏–∫–ª–∞ –ø–æ–º–∏–ª–∫–∞ –º–µ—Ä–µ–∂—ñ. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑." %}',
    
    // –ê–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –¥–ª—è subject
    subjects: {
      service_ai: '{% trans "–ü–∏—Ç–∞–Ω–Ω—è —â–æ–¥–æ AI –ø–æ—Å–ª—É–≥" %}',
      project_inquiry: '{% trans "–ó–∞–ø–∏—Ç —â–æ–¥–æ —Å–ø—ñ–≤–ø—Ä–∞—Ü—ñ" %}'
    }
  }
};

// üìù –û–±—Ä–æ–±–∫–∞ —Ñ–æ—Ä–º–∏ –∫–æ–Ω—Ç–∞–∫—Ç—É
document.getElementById('contactForm').addEventListener('submit', async function(e) {
  e.preventDefault();
  
  const form = this;
  const submitBtn = form.querySelector('.submit-btn');
  const btnText = submitBtn.querySelector('.btn-text');
  const btnLoading = submitBtn.querySelector('.btn-loading');
  const messageDiv = document.getElementById('formMessage');
  
  // –ü–æ–∫–∞–∑—É—î–º–æ —Å—Ç–∞–Ω –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
  submitBtn.disabled = true;
  btnText.style.display = 'none';
  btnLoading.style.display = 'inline';
  messageDiv.style.display = 'none';
  
  // –ó–±–∏—Ä–∞—î–º–æ –¥–∞–Ω—ñ —Ñ–æ—Ä–º–∏
  const formData = new FormData(form);
  
  try {
    const response = await fetch(DJANGO_CONTEXT.submitUrl, {
      method: 'POST',
      body: formData,
      headers: {
        'X-CSRFToken': DJANGO_CONTEXT.csrfToken
      }
    });
    
    const result = await response.json();
    
    if (result.success) {
      messageDiv.className = 'form-message success';
      messageDiv.textContent = result.message || DJANGO_CONTEXT.messages.success;
      form.reset(); // –û—á–∏—â–∞—î–º–æ —Ñ–æ—Ä–º—É
    } else {
      messageDiv.className = 'form-message error';
      messageDiv.textContent = result.error || DJANGO_CONTEXT.messages.error;
    }
    
  } catch (error) {
    messageDiv.className = 'form-message error';
    messageDiv.textContent = DJANGO_CONTEXT.messages.networkError;
  }
  
  // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –∫–Ω–æ–ø–∫—É –≤ –Ω–æ—Ä–º–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω
  submitBtn.disabled = false;
  btnText.style.display = 'inline';
  btnLoading.style.display = 'none';
  messageDiv.style.display = 'block';
  
  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏—Ö–æ–≤—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
  setTimeout(() => {
    messageDiv.style.display = 'none';
  }, 5000);
});

// üîÑ –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ Lucide —ñ–∫–æ–Ω–∫–∏ –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
document.addEventListener('DOMContentLoaded', function() {
  // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ —ñ–∫–æ–Ω–∫–∏
  if (typeof initLucideIcons === 'function') {
    initLucideIcons();
  } else if (typeof lucide !== 'undefined') {
    lucide.createIcons();
    console.log('üé® Lucide icons initialized directly');
  }
  
  // üìã –ê–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è —Ç–µ–º–∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥—ñ –∑ —ñ–Ω—à–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏
  const urlParams = new URLSearchParams(window.location.search);
  const referredFrom = urlParams.get('from');
  const subjectField = document.getElementById('subject');
  
  if (referredFrom && subjectField && DJANGO_CONTEXT.messages.subjects[referredFrom]) {
    subjectField.value = DJANGO_CONTEXT.messages.subjects[referredFrom];
  }
});

// üèÉ‚Äç‚ôÄÔ∏è Smooth scroll –¥–ª—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö –ø–æ—Å–∏–ª–∞–Ω—å
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
  anchor.addEventListener('click', function (e) {
    e.preventDefault();
    const target = document.querySelector(this.getAttribute('href'));
    if (target) {
      target.scrollIntoView({
        behavior: 'smooth',
        block: 'start'
      });
    }
  });
});
</script>
{% endblock %}