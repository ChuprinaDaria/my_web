{% extends "core/base.html" %}
{% load static i18n %}
{% get_current_language as CURRENT_LANG %}

{% block title %}{{ page_title }}{% endblock %}
{% block meta_description %}{{ page_description }}{% endblock %}
{% block extra_meta %}
<script type="application/ld+json">
{{ structured_data|safe }}
</script>
{% endblock %}
{% block content %}
<article class="news-detail-page">
  <section class="news-hero hero compact">
    <div class="container">
      <div class="hero-content">
        
        <h1 class="article-title">
          {{ article_title|safe }}
        </h1>

        <div class="article-meta">
          <span class="category-badge">
            {{ article.category.icon }} 
            {{ category_name }}
          </span>
          {% if article.is_top_article %}
            <span class="top-article-badge">ğŸ‘‘ TOP</span>
          {% endif %}
          {% if article.priority >= 3 %}
            <span class="priority-badge">ğŸ”¥ HOT</span>
          {% endif %}
        </div>

        <div class="article-info">
          <time datetime="{{ article.published_at|date:'c' }}" class="publish-date">
            ğŸ“… {{ article.published_at|date:'j F Y' }}
          </time>
          <span class="reading-time">â±ï¸ {{ article.get_reading_time }} {% trans "min" %}</span>
          <span class="views-count">ğŸ‘ï¸ {{ article.get_total_views }} {% trans "views" %}</span>
          {% if article.original_source_url and article.original_source_name %}
            <span class="source-info">
              ğŸ”— <a href="{{ article.original_source_url }}" target="_blank" rel="nofollow noopener">{{ article.original_source_name }}</a>
            </span>
          {% endif %}
        </div>
      </div>
    </div>
  </section>

  {% if article.ai_image_url %}
    <section class="article-image">
      <div class="container">
        <div class="image-container glass">
          <img src="{{ article.ai_image_url }}" 
               alt="{% if CURRENT_LANG == 'uk' and article.title_uk %}{{ article.title_uk|safe }}{% elif CURRENT_LANG == 'pl' and article.title_pl %}{{ article.title_pl|safe }}{% else %}{{ article.title_en|safe }}{% endif %}" 
               loading="lazy"
               style="width: 100%; height: auto; object-fit: contain; border-radius: var(--radius-xl);">
        </div>
      </div>
    </section>
  {% endif %}

  <section class="article-content">
    <div class="container">
      <div class="content-layout">
        
        <div class="main-content">
          
          <div class="article-summary card card-lg" style="margin-top: 2rem; margin-bottom: 2rem;">
            <div class="card-header">
              <div class="card-icon">ğŸ’¡</div>
              <h2>{% trans "Summary" %}</h2>
            </div>
            <div class="card-content">
              <div class="summary-content">
                {{ article_summary|safe }}
              </div>
            </div>
          </div>

          <div class="business-insight card card-lg" style="margin-top: 2rem; margin-bottom: 2rem;">
            <div class="card-header">
              <div class="card-icon">ğŸ¯</div>
              <h2>
                {% trans "Business Impact" %}
              </h2>
            </div>
            <div class="card-content">
              {{ article_business_insight|safe }}
            </div>
          </div>

          {% if article_interesting_facts %}
            <div class="interesting-facts card card-lg" style="margin-top: 2rem; margin-bottom: 2rem;">
              <div class="card-header">
                <div class="card-icon">âœ¨</div>
                <h2>{% trans "Interesting Facts" %}</h2>
              </div>
              <div class="card-content">
                <ul class="facts-list">
                  {% for fact in article_interesting_facts %}
                    <li class="fact-item">{{ fact }}</li>
                  {% endfor %}
                </ul>
              </div>
            </div>
          {% endif %}

          {% if article_business_opportunities %}
            <div class="business-opportunities card card-lg" style="margin-top: 2rem; margin-bottom: 2rem;">
              <div class="card-header">
                <div class="card-icon">ğŸš€</div>
                <h2>
                  {% trans "Business Opportunities" %}
                </h2>
              </div>
              <div class="card-content">
                <div class="opportunities-content">
                  {{ article_business_opportunities|safe }}
                </div>
              </div>
            </div>
          {% endif %}

          {% if article_lazysoft_recommendations %}
            <div class="lazysoft-recommendations card card-lg" style="margin-top: 2rem; margin-bottom: 2rem;">
              <div class="card-header">
                <div class="card-icon">ğŸ¯</div>
                <h2>
                  {% trans "LAZYSOFT Recommendations" %}
                </h2>
              </div>
              <div class="card-content">
                <div class="recommendations-content">
                  {{ article_lazysoft_recommendations|safe }}
                </div>
              </div>
            </div>
          {% endif %}
        </div>

        <aside class="news-sidebar">
          {% include 'includes/news_sidebar.html' %}
        </aside>
      </div>
    </div>
  </section>


  <section class="article-navigation">
    <div class="container">
      <div class="nav-links">
        <a href="/{{ CURRENT_LANG }}/news/" class="nav-link back">
          <span class="nav-icon">â†</span>
          {% trans "All Tech News" %}
        </a>
        
  </section>

</article>

  {% include 'includes/related_work_section.html' %}

  {% include 'includes/social_share.html' %}


{% endblock %}